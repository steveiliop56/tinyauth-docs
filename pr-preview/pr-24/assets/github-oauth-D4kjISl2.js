import{j as e}from"./index-BDrdAJGi.js";const h="/assets/github-new-oauth-app-D9hMSz-B.png",r="/assets/github-oauth-app-homepage-x7Xf0XN0.png",s="/assets/github-oauth-client-secret-Dgb3uWe5.png";let c={title:"GitHub OAuth",description:"Use GitHub OAuth for authenticating to Tinyauth."},d=[{href:"https://github.com/settings/developers"},{href:"/docs/reference/configuration"}],u={contents:[{heading:void 0,content:"Tinyauth has built-in support for GitHub OAuth with just two environment variables. Most of the configuration happens on the GitHub side rather than Tinyauth."},{heading:"requirements",content:"A domain name (non-gTLDs are supported)"},{heading:"requirements",content:"A GitHub account"},{heading:"creating-the-github-oauth-app",content:"Begin by creating a GitHub OAuth app. Navigate to the GitHub developer settings and click New OAuth App. Fill in the following details:"},{heading:"creating-the-github-oauth-app",content:"Name"},{heading:"creating-the-github-oauth-app",content:"Value"},{heading:"creating-the-github-oauth-app",content:"Application name"},{heading:"creating-the-github-oauth-app",content:"Can be anything, e.g., Tinyauth."},{heading:"creating-the-github-oauth-app",content:"Homepage URL"},{heading:"creating-the-github-oauth-app",content:"Can be any URL, e.g., https://tinyauth.app."},{heading:"creating-the-github-oauth-app",content:"Authorization Callback URL"},{heading:"creating-the-github-oauth-app",content:"Enter the domain followed by /api/oauth/callback/github, e.g., https://tinyauth.example.com/api/oauth/callback/github."},{heading:"creating-the-github-oauth-app",content:"After entering the details, click Register Application."},{heading:"retrieving-credentials",content:"Once the application is created, the following screen will appear:"},{heading:"retrieving-credentials",content:"Note down the client ID. To generate the client secret, click Generate a new client secret. GitHub will prompt for login confirmation and then display the secret:"},{heading:"retrieving-credentials",content:"Note down the client ID and secret for later use."},{heading:"configuring-tinyauth",content:"Add the following environment variables to the Tinyauth Docker container:"},{heading:"configuring-tinyauth",content:"type: warning"},{heading:"configuring-tinyauth",content:`OAuth alone does not guarantee security. By default, any GitHub account can
log in as a normal user. To restrict access, use the OAUTH_WHITELIST
environment variable to allow specific email addresses. Refer to the
configuration page for details.`},{heading:"configuring-tinyauth",content:"type: tip"},{heading:"configuring-tinyauth",content:`With OAuth enabled, the USERS or USERS_FILE environment variables can be
removed to allow login exclusively through the OAuth provider.`},{heading:"configuring-tinyauth",content:"Restart Tinyauth. Upon visiting the login screen, an additional option to log in with GitHub will appear."}],headings:[{id:"requirements",content:"Requirements"},{id:"creating-the-github-oauth-app",content:"Creating the GitHub OAuth App"},{id:"retrieving-credentials",content:"Retrieving Credentials"},{id:"configuring-tinyauth",content:"Configuring Tinyauth"}]};const g=[{depth:2,url:"#requirements",title:e.jsx(e.Fragment,{children:"Requirements"})},{depth:2,url:"#creating-the-github-oauth-app",title:e.jsx(e.Fragment,{children:"Creating the GitHub OAuth App"})},{depth:2,url:"#retrieving-credentials",title:e.jsx(e.Fragment,{children:"Retrieving Credentials"})},{depth:2,url:"#configuring-tinyauth",title:e.jsx(e.Fragment,{children:"Configuring Tinyauth"})}];function a(n){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...n.components},{Callout:i}=t;return i||l("Callout"),e.jsxs(e.Fragment,{children:[e.jsx(t.p,{children:"Tinyauth has built-in support for GitHub OAuth with just two environment variables. Most of the configuration happens on the GitHub side rather than Tinyauth."}),`
`,e.jsx(t.h2,{id:"requirements",children:"Requirements"}),`
`,e.jsxs(t.ul,{children:[`
`,e.jsx(t.li,{children:"A domain name (non-gTLDs are supported)"}),`
`,e.jsx(t.li,{children:"A GitHub account"}),`
`]}),`
`,e.jsx(t.h2,{id:"creating-the-github-oauth-app",children:"Creating the GitHub OAuth App"}),`
`,e.jsxs(t.p,{children:["Begin by creating a GitHub OAuth app. Navigate to the ",e.jsx(t.a,{href:"https://github.com/settings/developers",children:"GitHub developer settings"})," and click ",e.jsx(t.strong,{children:"New OAuth App"}),". Fill in the following details:"]}),`
`,e.jsxs(t.table,{children:[e.jsx(t.thead,{children:e.jsxs(t.tr,{children:[e.jsx(t.th,{children:"Name"}),e.jsx(t.th,{children:"Value"})]})}),e.jsxs(t.tbody,{children:[e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"Application name"}),e.jsxs(t.td,{children:["Can be anything, e.g., ",e.jsx(t.code,{children:"Tinyauth"}),"."]})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"Homepage URL"}),e.jsxs(t.td,{children:["Can be any URL, e.g., ",e.jsx(t.code,{children:"https://tinyauth.app"}),"."]})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:"Authorization Callback URL"}),e.jsxs(t.td,{children:["Enter the domain followed by ",e.jsx(t.code,{children:"/api/oauth/callback/github"}),", e.g., ",e.jsx(t.code,{children:"https://tinyauth.example.com/api/oauth/callback/github"}),"."]})]})]})]}),`
`,e.jsx(t.p,{children:e.jsx(t.img,{alt:"GitHub new OAuth app",src:h,placeholder:"blur"})}),`
`,e.jsxs(t.p,{children:["After entering the details, click ",e.jsx(t.strong,{children:"Register Application"}),"."]}),`
`,e.jsx(t.h2,{id:"retrieving-credentials",children:"Retrieving Credentials"}),`
`,e.jsx(t.p,{children:"Once the application is created, the following screen will appear:"}),`
`,e.jsx(t.p,{children:e.jsx(t.img,{alt:"GitHub OAuth app homepage",src:r,placeholder:"blur"})}),`
`,e.jsxs(t.p,{children:["Note down the client ID. To generate the client secret, click ",e.jsx(t.strong,{children:"Generate a new client secret"}),". GitHub will prompt for login confirmation and then display the secret:"]}),`
`,e.jsx(t.p,{children:e.jsx(t.img,{alt:"GitHub OAuth Client Secret",src:s,placeholder:"blur"})}),`
`,e.jsx(t.p,{children:"Note down the client ID and secret for later use."}),`
`,e.jsx(t.h2,{id:"configuring-tinyauth",children:"Configuring Tinyauth"}),`
`,e.jsx(t.p,{children:"Add the following environment variables to the Tinyauth Docker container:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(t.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(t.code,{children:[e.jsxs(t.span,{className:"line",children:[e.jsx(t.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),e.jsx(t.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(t.span,{className:"line",children:[e.jsx(t.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  tinyauth"}),e.jsx(t.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(t.span,{className:"line",children:[e.jsx(t.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    environment"}),e.jsx(t.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(t.span,{className:"line",children:[e.jsx(t.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(t.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"PROVIDERS_GITHUB_CLIENT_ID=your-github-client-id"})]}),`
`,e.jsxs(t.span,{className:"line",children:[e.jsx(t.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(t.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"PROVIDERS_GITHUB_CLIENT_SECRET=your-github-secret"})]})]})})}),`
`,e.jsx(i,{type:"warning",children:e.jsxs(t.p,{children:[`OAuth alone does not guarantee security. By default, any GitHub account can
log in as a normal user. To restrict access, use the `,e.jsx(t.code,{children:"OAUTH_WHITELIST"}),`
environment variable to allow specific email addresses. Refer to the
`,e.jsx(t.a,{href:"/docs/reference/configuration",children:"configuration"})," page for details."]})}),`
`,e.jsx(i,{type:"tip",children:e.jsxs(t.p,{children:["With OAuth enabled, the ",e.jsx(t.code,{children:"USERS"})," or ",e.jsx(t.code,{children:"USERS_FILE"}),` environment variables can be
removed to allow login exclusively through the OAuth provider.`]})}),`
`,e.jsx(t.p,{children:"Restart Tinyauth. Upon visiting the login screen, an additional option to log in with GitHub will appear."})]})}function p(n={}){const{wrapper:t}=n.components||{};return t?e.jsx(t,{...n,children:e.jsx(a,{...n})}):a(n)}function l(n,t){throw new Error("Expected component `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}export{p as default,d as extractedReferences,c as frontmatter,u as structuredData,g as toc};
