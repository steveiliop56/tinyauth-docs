import{j as e}from"./index-BDrdAJGi.js";const r="/assets/lldap-create-user-DqJbDWg1.png",a="/assets/lldap-groups-Cyfx5k_7.png";let l={title:"LDAP",description:"Use a centralized LDAP server for user management in Tinyauth."},d=[{href:"https://github.com/lldap/lldap"}],c={contents:[{heading:void 0,content:"LDAP, while often associated with businesses, can be highly effective for centralizing user management in a homelab environment. Tinyauth supports LDAP as a user source, making it easier to manage users across applications."},{heading:"requirements",content:"An LDAP server is required to proceed. LLDAP is recommended for its lightweight design and ease of configuration. This guide uses LLDAP, but any LDAP server is compatible."},{heading:"creating-users",content:"Tinyauth requires at least two users: an observer user with read-only access to the database (used by Tinyauth to search for user DNs) and a normal user for logging in to Tinyauth and applications."},{heading:"creating-the-observer-user",content:"Navigate to the Users tab in LLDAP and click Create a user."},{heading:"creating-the-observer-user",content:"Provide a username, password, and email address, then click Submit."},{heading:"creating-the-observer-user",content:"After creating the user, select it from the list and scroll to the group memberships section. Add the user to the lldap_strict_readonly group by clicking Add to Group."},{heading:"creating-additional-users",content:"Repeat the process to create additional users. Normal users do not need to belong to any groups."},{heading:"configuring-tinyauth",content:"To connect Tinyauth to the LDAP server, add the following environment variables to the Tinyauth Docker container:"},{heading:"configuring-tinyauth",content:"type: info"},{heading:"configuring-tinyauth",content:`The search filter can be customized as needed. The base filter (uid=%s)
searches for users based on their UID, with %s replaced by the username of
the user attempting to log in.`},{heading:"configuring-tinyauth",content:"type: info"},{heading:"configuring-tinyauth",content:`Replace the bind DN and base DN with values specific to the LDAP server
configuration.`},{heading:"configuring-tinyauth",content:"After restarting, logging in to Tinyauth with the second user created in LLDAP should be possible. Additional users can be created and used for login as needed."},{heading:"configuring-tinyauth",content:"type: info"},{heading:"configuring-tinyauth",content:`LDAP users are treated the same as users from files or environment variables.
There is no indication in the UI that a user is logged in via LDAP. All access
controls apply equally to LDAP users and standard users.`}],headings:[{id:"requirements",content:"Requirements"},{id:"creating-users",content:"Creating Users"},{id:"creating-the-observer-user",content:"Creating the Observer User"},{id:"creating-additional-users",content:"Creating Additional Users"},{id:"configuring-tinyauth",content:"Configuring Tinyauth"}]};const u=[{depth:2,url:"#requirements",title:e.jsx(e.Fragment,{children:"Requirements"})},{depth:2,url:"#creating-users",title:e.jsx(e.Fragment,{children:"Creating Users"})},{depth:3,url:"#creating-the-observer-user",title:e.jsx(e.Fragment,{children:"Creating the Observer User"})},{depth:3,url:"#creating-additional-users",title:e.jsx(e.Fragment,{children:"Creating Additional Users"})},{depth:2,url:"#configuring-tinyauth",title:e.jsx(e.Fragment,{children:"Configuring Tinyauth"})}];function t(s){const i={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",...s.components},{Callout:n}=i;return n||o("Callout"),e.jsxs(e.Fragment,{children:[e.jsx(i.p,{children:"LDAP, while often associated with businesses, can be highly effective for centralizing user management in a homelab environment. Tinyauth supports LDAP as a user source, making it easier to manage users across applications."}),`
`,e.jsx(i.h2,{id:"requirements",children:"Requirements"}),`
`,e.jsxs(i.p,{children:["An LDAP server is required to proceed. ",e.jsx(i.a,{href:"https://github.com/lldap/lldap",children:"LLDAP"})," is recommended for its lightweight design and ease of configuration. This guide uses LLDAP, but any LDAP server is compatible."]}),`
`,e.jsx(i.h2,{id:"creating-users",children:"Creating Users"}),`
`,e.jsx(i.p,{children:"Tinyauth requires at least two users: an observer user with read-only access to the database (used by Tinyauth to search for user DNs) and a normal user for logging in to Tinyauth and applications."}),`
`,e.jsx(i.h3,{id:"creating-the-observer-user",children:"Creating the Observer User"}),`
`,e.jsxs(i.ol,{children:[`
`,e.jsxs(i.li,{children:["Navigate to the ",e.jsx(i.strong,{children:"Users"})," tab in LLDAP and click ",e.jsx(i.strong,{children:"Create a user"}),"."]}),`
`,e.jsxs(i.li,{children:["Provide a username, password, and email address, then click ",e.jsx(i.strong,{children:"Submit"}),"."]}),`
`]}),`
`,e.jsx(i.p,{children:e.jsx(i.img,{alt:"LLDAP Create a User",src:r,placeholder:"blur"})}),`
`,e.jsxs(i.ol,{start:"3",children:[`
`,e.jsxs(i.li,{children:["After creating the user, select it from the list and scroll to the group memberships section. Add the user to the ",e.jsx(i.code,{children:"lldap_strict_readonly"})," group by clicking ",e.jsx(i.strong,{children:"Add to Group"}),"."]}),`
`]}),`
`,e.jsx(i.p,{children:e.jsx(i.img,{alt:"LLDAP Groups",src:a,placeholder:"blur"})}),`
`,e.jsx(i.h3,{id:"creating-additional-users",children:"Creating Additional Users"}),`
`,e.jsx(i.p,{children:"Repeat the process to create additional users. Normal users do not need to belong to any groups."}),`
`,e.jsx(i.h2,{id:"configuring-tinyauth",children:"Configuring Tinyauth"}),`
`,e.jsx(i.p,{children:"To connect Tinyauth to the LDAP server, add the following environment variables to the Tinyauth Docker container:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"services"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  tinyauth"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    environment"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_ADDRESS=ldap://my-lldap-server:3890"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_BIND_DN=uid=your-observer-user,ou=people,dc=example,dc=com"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_BIND_PASSWORD=your-observer-user-password"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_BASE_DN=dc=example,dc=com"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_SEARCH_FILTER=(uid=%s)"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      - "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"LDAP_INSECURE=true"})]})]})})}),`
`,e.jsx(n,{type:"info",children:e.jsxs(i.p,{children:["The search filter can be customized as needed. The base filter ",e.jsx(i.code,{children:"(uid=%s)"}),`
searches for users based on their UID, with `,e.jsx(i.code,{children:"%s"}),` replaced by the username of
the user attempting to log in.`]})}),`
`,e.jsx(n,{type:"info",children:e.jsx(i.p,{children:`Replace the bind DN and base DN with values specific to the LDAP server
configuration.`})}),`
`,e.jsx(i.p,{children:"After restarting, logging in to Tinyauth with the second user created in LLDAP should be possible. Additional users can be created and used for login as needed."}),`
`,e.jsx(n,{type:"info",children:e.jsx(i.p,{children:`LDAP users are treated the same as users from files or environment variables.
There is no indication in the UI that a user is logged in via LDAP. All access
controls apply equally to LDAP users and standard users.`})})]})}function g(s={}){const{wrapper:i}=s.components||{};return i?e.jsx(i,{...s,children:e.jsx(t,{...s})}):t(s)}function o(s,i){throw new Error("Expected component `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}export{g as default,d as extractedReferences,l as frontmatter,c as structuredData,u as toc};
